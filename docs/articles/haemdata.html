<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting started • haemdata</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">haemdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9013</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../notebooks/" aria-label="notebooks"><span class="fa fa-notebook"></span> Notebooks</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/haemdata.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/genomes.html">Reference genomes</a></li>
    <li><a class="dropdown-item" href="../articles/howto.html">How do I...</a></li>
    <li><a class="dropdown-item" href="../articles/missing_metadata.html">Missing metadata</a></li>
    <li><a class="dropdown-item" href="../articles/preprocessing.html">Preprocessing</a></li>
    <li><a class="dropdown-item" href="../articles/version_control.html">Version control</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cohmathonc/haemdata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/cohmathonc/haemdata/blob/HEAD/vignettes/haemdata.Rmd" class="external-link"><code>vignettes/haemdata.Rmd</code></a></small>
      <div class="d-none name"><code>haemdata.Rmd</code></div>
    </div>

    
    
<p>Haemdata provides a simple interface to genomic data for the PSON AML
State-transition project at COH, and a complete record of how samples
were processed from fastq or h5 (10X) to gene expression estimates.</p>
<p>Haemdata uses the Rstudio <a href="https://pins.rstudio.com/" class="external-link"><code>{pins}</code></a> package to
publish R objects and other data to Microsoft OneDrive, making it easy
to retrieve from any computer with internet access. Pins are version
controlled, which means you can easily track changes between updates,
re-run analyses on historical data, and undo mistakes. If you have an
account on the <a href="http://hprcc.coh.org/" class="external-link">HPRCC</a>, you can skip
the hassle of installation by using <a href="http://hprcc.coh.org/user-guide/rbioc/" class="external-link">RStudio Server for
Bioconductor</a> on the cluster.</p>
<p>Otherwise, to use the Haemdata package, you need to install it. Some
dependencies will be installed automatically, which can take a
while.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"haemdata"</span>, repos <span class="op">=</span> <span class="st">"http://cgt.coh.org/MHO"</span><span class="op">)</span></span></code></pre></div>
<p>Next, load libraries and choose the <code>onedrive</code> pinboard.
You can also access pins from <a href="https://www.rstudio.com/blog/pins-for-python/" class="external-link">Python</a>, or
directly through <a href="https://cityofhope.sharepoint.com/:f:/r/sites/PSONAMLState-Transition/Shared%20Documents/haemdata?csf=1&amp;web=1&amp;e=VE7cQ2" class="external-link">Microsoft
Teams</a>, <a href="https://cityofhope.sharepoint.com/:f:/r/sites/PSONAMLState-Transition/Shared%20Documents/haemdata?csf=1&amp;web=1&amp;e=xjS3YH" class="external-link">OneDrive</a>
or <a href="https://cityofhope.sharepoint.com/:f:/r/sites/PSONAMLState-Transition/Shared%20Documents/haemdata?csf=1&amp;web=1&amp;e=NR0BHT" class="external-link">Sharepoint</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/cohmathonc/haemdata" class="external-link">"haemdata"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/use_pinboard.html">use_pinboard</a></span><span class="op">(</span><span class="st">"onedrive"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading Microsoft Graph login for default tenant</span></span></code></pre>
<pre><code><span><span class="co">## Access token has expired or is no longer valid; refreshing</span></span></code></pre>
<p>The first time you run the package, you’ll be prompted to
authenticate with your COH credentials and a device token. Follow the
instructions in the console to complete the authentication process.</p>
<pre class="code"><code>Creating Microsoft Graph login for default tenant
To sign in, use a web browser to open the page https://microsoft.com/devicelogin and enter the code QQ72FRU3D to authenticate.
Waiting for device code in browser...
Press Esc/Ctrl + C to abort
Authentication complete.</code></pre>
<p>Once you’ve logged in, see what pins are available:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_pin_list.html">get_pin_list</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "hsa_mrna_flt3_GENCODEr40_qc.rds"                 </span></span>
<span><span class="co">## [2] "hsa_mrna_flt3_GENCODEr40_qc_1tpm_in_5samples.csv"</span></span>
<span><span class="co">## [3] "hsa_mrna_kim_GENCODEr40_qc.rds"                  </span></span>
<span><span class="co">## [4] "hsa_mrna_kim_GENCODEr40_qc_1tpm_in_5samples.csv" </span></span>
<span><span class="co">## [5] "hsa_mrna_mds_GENCODEr40_qc.rds"                  </span></span>
<span><span class="co">## [6] "hsa_mrna_mds_GENCODEr40_qc_1tpm_in_5samples.csv"</span></span></code></pre>
<p>Load the mouse metadata and get some statistics on the
collection:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pin.html">get_pin</a></span><span class="op">(</span><span class="st">"metadata_mmu.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in get_pin("metadata_mmu.csv"): Using latest version of pin: 20230907T012227Z-d3324</span></span>
<span><span class="co">## Include the version parameter to make your code reproducible and avoid future warnings. E.g.:</span></span>
<span><span class="co">## get_pin("metadata_mmu.csv", version = "20230907T012227Z-d3324")</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of mice in the collection</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">mouse_id</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 124</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of tissue samples</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mouse_id"</span>, <span class="st">"tissue"</span>, <span class="st">"timepoint"</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 949</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Number of sequencing libraries</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">fastq_1</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1763</span></span></code></pre>
<p>See the <a href="http://cgt.coh.org/haemdata/articles/" class="external-link">Articles</a>
menu above for more examples.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Denis O’Meally.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
